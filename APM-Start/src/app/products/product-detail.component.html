<div class='card'>
  <div *ngIf="isLoading; then loading; else loaded"></div>
  <ng-template #loading>
    <div style="height:fit-content">
      <pm-spinner></pm-spinner>
    </div>
  </ng-template>
  <ng-template #loaded>
    <div *ngIf="errorMessage; then error else noError"></div>
    <ng-template #error>
      <b>{{errorMessage}}</b>
    </ng-template>
    <ng-template #noError>
      <div class='card-header'>
        {{ product.productName}}
      </div>
      <div class='card-body'>
        <div class='row'>
          <div class='col-md-8'>
            <div class='row'>
              <div class='col-md-4'>Name:</div>
              <div class='col-md-8'>{{product.productName}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Code:</div>
              <div class='col-md-8'>{{product.productCode | lowercase | convertToSpaces: '-'}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Description:</div>
              <div class='col-md-8'>{{product.description}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Availability:</div>
              <div class='col-md-8'>{{product.releaseDate}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Price:</div>
              <div class='col-md-8'>{{product.price|currency:'USD':'symbol'}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>5 Star Rating:</div>
              <div class='col-md-8'>
                <star [rating]='product.starRating'>
                </star>
              </div>
            </div>
          </div>

          <div class='col-md-4'>
            <img class='center-block img-responsive pointer'
                 [style.width.px]='200'
                 [style.margin.px]='2'
                 src='"../../assets/images/{{product.imageUrl}}'
                 [title]='product.productName' alt="product">
          </div>
        </div>
      </div>
    </ng-template>
  </ng-template>
  <div class='card-footer'>
    <button class='btn btn-outline-secondary'
            (click)='onBack()'
            style='width:80px'>
      <i class='fa fa-chevron-left'></i> Back
    </button>
  </div>
</div>
